% Robust emoji configuration with fallbacks
\usepackage{fontspec}
\usepackage{ifthen}

% Set main fonts
\setmainfont{Noto Sans}

% Try to use Symbola font for emojis, with fallbacks
\IfFontExistsTF{Symbola}{
    \newfontfamily\emojifont{Symbola}
    \typeout{Using Symbola font for emojis}
}{
    \IfFontExistsTF{Noto Color Emoji}{
        \newfontfamily\emojifont{Noto Color Emoji}
        \typeout{Using Noto Color Emoji font for emojis}
    }{
        \IfFontExistsTF{Apple Color Emoji}{
            \newfontfamily\emojifont{Apple Color Emoji}
            \typeout{Using Apple Color Emoji font for emojis}
        }{
            % Final fallback to Noto Sans
            \newfontfamily\emojifont{Noto Sans}
            \typeout{Warning: No emoji font found, using Noto Sans as fallback}
        }
    }
}

% Simple emoji command
\newcommand{\emoji}[1]{{\emojifont #1}}

% Map Unicode characters to emoji command
\usepackage{newunicodechar}

% Essential emojis from the document
\newunicodechar{ğŸ“š}{\emoji{ğŸ“š}}
\newunicodechar{ğŸ§ }{\emoji{ğŸ§ }}
\newunicodechar{ğŸ—}{\emoji{ğŸ—}}
\newunicodechar{âš™}{\emoji{âš™}}
\newunicodechar{ğŸ¦€}{\emoji{ğŸ¦€}}
\newunicodechar{ğŸ¤–}{\emoji{ğŸ¤–}}
\newunicodechar{âœ…}{\emoji{âœ…}}
\newunicodechar{âŒ}{\emoji{âŒ}}
\newunicodechar{âš }{\emoji{âš }}
\newunicodechar{ğŸ”§}{\emoji{ğŸ”§}}
\newunicodechar{ğŸ’»}{\emoji{ğŸ’»}}
\newunicodechar{ğŸ”’}{\emoji{ğŸ”’}}
\newunicodechar{âš¡}{\emoji{âš¡}}
\newunicodechar{ğŸ§ª}{\emoji{ğŸ§ª}}
\newunicodechar{ğŸ“Š}{\emoji{ğŸ“Š}}
\newunicodechar{ğŸš€}{\emoji{ğŸš€}}
\newunicodechar{ğŸ‰}{\emoji{ğŸ‰}}
\newunicodechar{ğŸ”„}{\emoji{ğŸ”„}}
\newunicodechar{ğŸ¯}{\emoji{ğŸ¯}}
\newunicodechar{ğŸ’¡}{\emoji{ğŸ’¡}}
\newunicodechar{ğŸ”¥}{\emoji{ğŸ”¥}}
\newunicodechar{â­}{\emoji{â­}}
\newunicodechar{ğŸŒŸ}{\emoji{ğŸŒŸ}}
\newunicodechar{ğŸ’}{\emoji{ğŸ’}}
\newunicodechar{ğŸ›¡}{\emoji{ğŸ›¡}}
\newunicodechar{ğŸ”‘}{\emoji{ğŸ”‘}}
\newunicodechar{ğŸ¨}{\emoji{ğŸ¨}}

% Mathematical symbols
\newunicodechar{â‰ˆ}{\emoji{â‰ˆ}}
\newunicodechar{â†’}{\emoji{â†’}}

% Handle variation selectors (invisible characters)
\newunicodechar{ï¸}{}  % Variation Selector-16
</text>
</invoke>